{"collection":{"info":{"_postman_id":"1a8f1c81-0502-4f9d-8699-d45551834b7d","name":"Safaricom APIs","description":"# Introduction\nWhat does your API do?\n\n# Overview\nThings that the developers should know about\n\n# Authentication\nWhat is the preferred way of using the API?\n\n# Error Codes\nWhat errors and status codes can a user expect?\n\n# Rate limit\nIs there a limit to the number of requests an user can send?","schema":"https://schema.postman.com/json/collection/v2.1.0/collection.json","updatedAt":"2024-09-26T22:25:26.000Z","createdAt":"2024-09-26T22:23:06.000Z","lastUpdatedBy":"4395533","uid":"4395533-1a8f1c81-0502-4f9d-8699-d45551834b7d"},"item":[{"name":"M-Pesa Ratiba - Sandbox","item":[{"name":"Access Token","event":[{"listen":"test","script":{"id":"5efa224f-94d0-4cd3-9138-c8a1adf89d3e","exec":[""],"type":"text/javascript","packages":{}}}],"id":"c40db67e-84b7-411c-8aaa-d286f24e201b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"basic","basic":[{"key":"password","value":"","type":"string"},{"key":"username","value":"","type":"string"}]},"method":"GET","header":[],"url":{"raw":"https://sandbox.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials","protocol":"https","host":["sandbox","safaricom","co","ke"],"path":["oauth","v1","generate"],"query":[{"key":"grant_type","value":"client_credentials"}]}},"response":[],"uid":"4395533-c40db67e-84b7-411c-8aaa-d286f24e201b"},{"name":"createReminderSchedule-External(Paybill)","id":"853533e2-a973-48ce-9169-b6e5f5e98cd8","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"POST","header":[],"body":{"mode":"raw","raw":"{\n    \"StandingOrderName\": \"\",\n    \"BusinessShortCode\": \"174379\",\n    \"TransactionType\": \"Standing Order Customer Pay Bill\",\n    \"Amount\": \"\",\n    \"PartyA\": \"\",\n    \"ReceiverPartyIdentifierType\": \"4\",\n    \"CallBackURL\": \"\",\n    \"AccountReference\": \"\",\n    \"TransactionDesc\": \"\",\n    \"Frequency\": \"\",\n    \"StartDate\": \"\",\n    \"EndDate\": \"\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"https://sandbox.safaricom.co.ke/standingorder/v1/createStandingOrderExternal","protocol":"https","host":["sandbox","safaricom","co","ke"],"path":["standingorder","v1","createStandingOrderExternal"]}},"response":[],"uid":"4395533-853533e2-a973-48ce-9169-b6e5f5e98cd8"},{"name":"createReminderSchedule-External(Buy Goods)","id":"22e1085e-9ef7-4dee-9c62-3837583dc02e","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"POST","header":[],"body":{"mode":"raw","raw":"{\n    \"StandingOrderName\": \"\",\n    \"BusinessShortCode\": \"300584\",\n    \"TransactionType\": \"Standing Order Customer Pay Merchant\",\n    \"Amount\": \"\",\n    \"PartyA\": \"\",\n    \"ReceiverPartyIdentifierType\": \"2\",\n    \"CallBackURL\": \"\",\n    \"AccountReference\": \"\",\n    \"TransactionDesc\": \"\",\n    \"Frequency\": \"\",\n    \"StartDate\": \"\",\n    \"EndDate\": \"\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"https://sandbox.safaricom.co.ke/standingorder/v1/createStandingOrderExternal","protocol":"https","host":["sandbox","safaricom","co","ke"],"path":["standingorder","v1","createStandingOrderExternal"]}},"response":[],"uid":"4395533-22e1085e-9ef7-4dee-9c62-3837583dc02e"}],"id":"f71f3452-fd09-4493-834b-8678fdf76b21","uid":"4395533-f71f3452-fd09-4493-834b-8678fdf76b21"},{"name":"Make a B2B Payment Request","id":"c843718f-005f-48db-91da-b8ee8ea87eb6","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer <Access-Token>"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\r\n    \"Initiator\": \"\",\r\n    \"SecurityCredential\": \"\",\r\n    \"CommandID\": \"\",\r\n    \"SenderIdentifierType\": \"\",\r\n    \"RecieverIdentifierType\": \"\",\r\n    \"Amount\": \"\",\r\n    \"PartyA\": \"\",\r\n    \"PartyB\": \"\",\r\n    \"AccountReference\": \"\",\r\n    \"Remarks\": \"\",\r\n    \"QueueTimeOutURL\": \"\",\r\n    \"ResultURL\": \"\"\r\n}"},"url":{"raw":"https://sandbox.safaricom.co.ke/mpesa/b2b/v1/paymentrequest","protocol":"https","host":["sandbox","safaricom","co","ke"],"path":["mpesa","b2b","v1","paymentrequest"]}},"response":[],"uid":"4395533-c843718f-005f-48db-91da-b8ee8ea87eb6"},{"name":"Reverse an M-Pesa Transaction","id":"89e0eee8-1668-4fbe-b2bf-99922b9fbbc2","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer <Access-Token>"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\r\n    \"Initiator\": \"\",\r\n    \"SecurityCredential\": \"\",\r\n    \"CommandID\": \"TransactionReversal\",\r\n    \"TransactionID\": \"\",\r\n    \"Amount\": \"\",\r\n    \"ReceiverParty\": \"\",\r\n    \"RecieverIdentifierType\": \"4\",\r\n    \"ResultURL\": \"\",\r\n    \"QueueTimeOutURL\": \"\",\r\n    \"Remarks\": \"\",\r\n    \"Occasion\": \"\"\r\n}"},"url":{"raw":"https://sandbox.safaricom.co.ke/mpesa/reversal/v1/request","protocol":"https","host":["sandbox","safaricom","co","ke"],"path":["mpesa","reversal","v1","request"]}},"response":[],"uid":"4395533-89e0eee8-1668-4fbe-b2bf-99922b9fbbc2"},{"name":"Query the Transaction Status of an M-Pesa Transaction","id":"4bfbb778-b879-463d-ab1e-5f73cfcbd2c9","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer <Access-Token>"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\r\n    \"Initiator\": \"\",\r\n    \"SecurityCredential\": \"\",\r\n    \"CommandID\": \"TransactionStatusQuery\",\r\n    \"TransactionID\": \"\",\r\n    \"PartyA\": \"\",\r\n    \"IdentifierType\": \"\",\r\n    \"ResultURL\": \"\",\r\n    \"QueueTimeOutURL\": \"\",\r\n    \"Remarks\": \"\",\r\n    \"Occasion\": \"\"\r\n}"},"url":{"raw":"https://sandbox.safaricom.co.ke/mpesa/transactionstatus/v1/query","protocol":"https","host":["sandbox","safaricom","co","ke"],"path":["mpesa","transactionstatus","v1","query"]}},"response":[],"uid":"4395533-4bfbb778-b879-463d-ab1e-5f73cfcbd2c9"},{"name":"Simulate a C2B Payment","id":"97b63ceb-da02-4a1c-bda6-1ec9c876b2f6","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer <Access-Token>"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\r\n    \"ShortCode\":\" \",\r\n    \"CommandID\":\"CustomerPayBillOnline\",\r\n    \"Amount\":\" \",\r\n    \"Msisdn\":\" \",\r\n    \"BillRefNumber\":\" \"\r\n}"},"url":{"raw":"https://sandbox.safaricom.co.ke/mpesa/c2b/v1/simulate","protocol":"https","host":["sandbox","safaricom","co","ke"],"path":["mpesa","c2b","v1","simulate"]}},"response":[],"uid":"4395533-97b63ceb-da02-4a1c-bda6-1ec9c876b2f6"},{"name":"Query the status of a Lipa na M-Pesa Online Payment","id":"e1f11526-96a6-414c-82e6-d3c77f12fe21","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer <Access-Token>"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\r\n    \"BusinessShortCode\": \" \" ,\r\n    \"Password\": \" \",\r\n    \"Timestamp\": \" \",\r\n    \"CheckoutRequestID\": \" \"\r\n}"},"url":{"raw":"https://sandbox.safaricom.co.ke/mpesa/stkpushquery/v1/query","protocol":"https","host":["sandbox","safaricom","co","ke"],"path":["mpesa","stkpushquery","v1","query"]}},"response":[],"uid":"4395533-e1f11526-96a6-414c-82e6-d3c77f12fe21"},{"name":"Make a B2C Payment Request","id":"78321688-2907-4998-83bb-1e22cec032f7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer <Access-Token>"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\r\n    \"InitiatorName\": \"\",\r\n    \"SecurityCredential\": \"\",\r\n    \"CommandID\": \"\",\r\n    \"Amount\": \"\",\r\n    \"PartyA\": \"\",\r\n    \"PartyB\": \"\",\r\n    \"Remarks\": \"\",\r\n    \"QueueTimeOutURL\": \"\",\r\n    \"ResultURL\": \"\",\r\n  \"Occasion\": \"\"\r\n}"},"url":{"raw":"https://sandbox.safaricom.co.ke/mpesa/b2c/v1/paymentrequest","protocol":"https","host":["sandbox","safaricom","co","ke"],"path":["mpesa","b2c","v1","paymentrequest"]}},"response":[],"uid":"4395533-78321688-2907-4998-83bb-1e22cec032f7"},{"name":"Initiate a Lipa na M-Pesa Online Payment","id":"1a8904c9-6d46-4c8e-9f91-665c7339f724","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer <Access-Token>"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\r\n    \"BusinessShortCode\": \" \",\r\n    \"Password\": \" \",\r\n    \"Timestamp\": \" \",\r\n    \"TransactionType\": \"CustomerPayBillOnline\",\r\n    \"Amount\": \" \",\r\n    \"PartyA\": \" \",\r\n    \"PartyB\": \" \",\r\n    \"PhoneNumber\": \" \",\r\n    \"CallBackURL\": \"https://ip_address:port/callback\",\r\n    \"AccountReference\": \" \",\r\n    \"TransactionDesc\": \" \"\r\n}"},"url":{"raw":"https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest","protocol":"https","host":["sandbox","safaricom","co","ke"],"path":["mpesa","stkpush","v1","processrequest"]}},"response":[],"uid":"4395533-1a8904c9-6d46-4c8e-9f91-665c7339f724"},{"name":"Make an Account Balance query","id":"dd87f939-c880-40a3-a10c-135eb914a567","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer <Access-Token>"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\r\n    \"Initiator\": \"\",\r\n    \"SecurityCredential\": \"\",\r\n    \"CommandID\": \"AccountBalance\",\r\n    \"PartyA\": \"\",\r\n    \"IdentifierType\": \"4\",\r\n    \"Remarks\": \"\",\r\n    \"QueueTimeOutURL\": \"\",\r\n    \"ResultURL\": \"\"\r\n}"},"url":{"raw":"https://sandbox.safaricom.co.ke/mpesa/accountbalance/v1/query","protocol":"https","host":["sandbox","safaricom","co","ke"],"path":["mpesa","accountbalance","v1","query"]}},"response":[],"uid":"4395533-dd87f939-c880-40a3-a10c-135eb914a567"},{"name":"Register C2B Confirmation and Validation URLs","id":"ab98aa35-2bb7-4abc-b915-77ef8d52c1cf","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer <Access-Token>"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\r\n    \"ShortCode\": \"\",\r\n    \"ResponseType\": \"\",\r\n    \"ConfirmationURL\": \"\",\r\n    \"ValidationURL\": \"\"\r\n}"},"url":{"raw":"https://sandbox.safaricom.co.ke/mpesa/c2b/v1/registerurl","protocol":"https","host":["sandbox","safaricom","co","ke"],"path":["mpesa","c2b","v1","registerurl"]}},"response":[],"uid":"4395533-ab98aa35-2bb7-4abc-b915-77ef8d52c1cf"},{"name":"Generate an OAuth Access Token","id":"0f79227a-bbf1-46e3-8277-ad2656d5d4a1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"basic","basic":[{"key":"password","value":"","type":"string"},{"key":"username","value":"","type":"string"},{"key":"showPassword","value":false,"type":"boolean"}]},"method":"GET","header":[],"body":{"mode":"formdata","formdata":[]},"url":{"raw":"https://sandbox.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials","protocol":"https","host":["sandbox","safaricom","co","ke"],"path":["oauth","v1","generate"],"query":[{"key":"grant_type","value":"client_credentials"}]}},"response":[],"uid":"4395533-0f79227a-bbf1-46e3-8277-ad2656d5d4a1"}],"variable":[{"key":"access_token","value":""}]}}